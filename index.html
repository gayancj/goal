<!DOCTYPE html>
<html lang="si">
<head>
  <meta name="robots" content="noindex, nofollow">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blocked - Focus Mode</title>

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#1e3c72;
      --bg2:#2a5298;

      --card: rgba(255,255,255,0.10);
      --card2: rgba(255,255,255,0.12);
      --border: rgba(255,255,255,0.18);

      --text: #ffffff;
      --muted: rgba(255,255,255,0.90);

      --pillText: rgba(255,255,255,0.98);

      --doneBg: rgba(140, 255, 190, 0.18);
      --doneBorder: rgba(140, 255, 190, 0.35);
      --doneText: rgba(255,255,255,0.98);
    }

    *{ box-sizing: border-box; }

    /* Layout: header + middle + footer (fits viewport) */
    html, body { height: 100%; }
    body{
      font-family: 'Noto Sans Sinhala', Arial, sans-serif;
      background: linear-gradient(to right, var(--bg1), var(--bg2));
      color: var(--text);
      margin: 0;
      padding: 10px 12px;
      zoom: 1;

      display: flex;
      flex-direction: column;
      gap: 8px;                 /* sandwich spacing */
    }

    /* Top & bottom headers */
    h1{
      text-align: center;
      font-size: 22px;
      line-height: 1.18;
      margin: 0;
      padding: 1px 0;          /* prevents glyph clipping */
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      flex: 0 0 auto;
    }

    /* Middle area gets the remaining height */
    .mid{
      flex: 1 1 auto;
      max-width: 1180px;
      width: 100%;
      margin: 0 auto;

      display: flex;
      gap: 12px;
      align-items: stretch;    /* make both columns same height */
      justify-content: center;

      min-height: 0;           /* allow internal sizing without overflow */
    }

    /* LEFT images column should MATCH goals panel height */
    .images{
      flex: 0 0 210px;
      height: 100%;

      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: repeat(4, 1fr);  /* split available height into 4 equal cards */
      gap: 8px;

      min-height: 0;
    }

    .card{
      background: var(--card);
      padding: 6px;
      border-radius: 14px;
      border: 1px solid var(--border);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);

      display: flex;
      min-height: 0;
    }

    .card img{
      width: 100%;
      height: 100%;            /* fill the card */
      object-fit: cover;
      border-radius: 10px;
      display: block;
    }

    /* RIGHT goals panel */
    .goals{
      flex: 1 1 auto;
      height: 100%;
      min-width: 320px;
      min-height: 0;

      text-align: left;
      background: var(--card2);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 10px 12px 10px 12px;
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);

      display: flex;
      flex-direction: column;
    }

    /* Goals header */
    .goals h2{
      margin: 0 0 8px 0;
      font-size: 16px;
      line-height: 1.25;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      flex: 0 0 auto;
    }

    .now{
      font-size: 11px;
      color: rgba(255,255,255,0.92);
      font-weight: 400;
      background: rgba(0,0,0,0.14);
      border: 1px solid var(--border);
      padding: 4px 8px;
      border-radius: 999px;
      white-space: nowrap;
      font-variant-numeric: tabular-nums;
    }

    /* List fills remaining space without forcing scroll in normal 14" use */
    .goals ul{
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      gap: 6px;
      flex: 1 1 auto;
      min-height: 0;
    }

    /* ====== REQUEST: increase goals text size by 120% ======
       Previous was 12.5px -> 15px (exactly 1.2x).
    */
    .goals li{
      display: grid;
      grid-template-columns: 18px 1fr 160px;
      column-gap: 8px;
      align-items: start;
      color: var(--muted);

      font-size: 15px;      /* 12.5 * 1.2 = 15 */
      line-height: 1.18;
    }

    .bulletToggle{
      width: 14px;
      height: 14px;
      margin-top: 3px;
      accent-color: rgba(140, 255, 190, 0.98);
      cursor: pointer;
    }

    .goalText{
      display: block;
      padding-top: 1px;
    }

    .timerCell{
      display: flex;
      justify-content: flex-end;
      align-items: flex-start;
      padding-top: 2px;
    }

    .countdown{
      width: 145px;
      text-align: center;
      padding: 4px 8px;
      border-radius: 999px;
      color: var(--pillText);
      font-size: 11px;
      line-height: 1.1;
      font-variant-numeric: tabular-nums;
      user-select: none;

      background: rgba(255,255,255,0.16);
      border: 1px solid rgba(255,255,255,0.25);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.10);
    }

    /* Completed styling */
    li.completed .countdown{
      background: var(--doneBg) !important;
      border-color: var(--doneBorder) !important;
      color: var(--doneText) !important;
      box-shadow: none !important;
    }
    li.completed .goalText{
      text-decoration: line-through;
      opacity: 0.92;
    }

    /* If viewport height is small, compress a bit to keep footer visible */
    @media (max-height: 760px){
      body{ padding: 8px 10px; gap: 6px; }

      h1{ font-size: 20px; }
      .images{ flex-basis: 200px; gap: 7px; }
      .card{ padding: 5px; }

      .goals{ padding: 9px 10px; }
      .goals h2{ font-size: 15px; margin-bottom: 6px; }
      .now{ font-size: 10.5px; padding: 3px 7px; }

      .goals ul{ gap: 5px; }
      .goals li{ font-size: 14px; }
      .countdown{ width: 140px; font-size: 10.5px; padding: 4px 7px; }
      .goals li{ grid-template-columns: 18px 1fr 155px; }
    }

    /* Mobile: stack layout */
    @media (max-width: 900px){
      body{ gap: 10px; }
      .mid{ flex-direction: column; }

      .images{
        width: 100%;
        max-width: 560px;
        margin: 0 auto;
        height: auto;
        grid-template-rows: none;
      }
      .card{ min-height: 0; }
      .card img{ height: 120px; }

      .goals{
        width: 100%;
        max-width: 560px;
        margin: 0 auto;
        height: auto;
      }

      .goals li{
        grid-template-columns: 18px 1fr;
        row-gap: 6px;
      }
      .timerCell{
        grid-column: 2 / 3;
        justify-content: flex-start;
      }
      .countdown{ width: 160px; }
    }
  </style>
</head>

<body>

  <h1>‡∑Ñ‡∑î‡∂≠‡∑ä‡∂≠‡∑ù!!! ‡∂ª‡∑í‡∑É‡∂ª‡∑ä‡∂†‡∑ä ‡∂ë‡∂ö ‡∂ö‡∂ª‡∂¥‡∂±‡∑ä. ‡∂¢‡∑í‡∂∏‡∑ä ‡∂ë‡∂ö‡∂ß ‡∂¥‡∂Ω‡∂∫‡∂±‡∑ä. ‡∂ã‡∂π‡∑ö ‡∂ß‡∑è‡∂ú‡∂ß‡∑ä ‡∂ë‡∂ö ‡∂¥‡∑ì.‡∂ë‡∂†‡∑ä.‡∂©‡∑ì. ‡∂ë‡∂ö‡∂ö‡∑ä</h1>

  <div class="mid">
    <div class="images" aria-label="Focus images">
      <div class="card">
        <img src="https://media.istockphoto.com/id/1477440242/pt/foto/team-of-ecologist-volunteer-pulling-non-biodegradable-micro-plastic-from-the-endanger-species.jpg?s=612x612&w=0&k=20&c=b7QvUkFM2V-P5PzXEm8Wl5YLXf7X1esxVHfva1MZdLo=" alt="Focus image 1">
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1490645935967-10de6ba17061" alt="Focus image 2">
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8" alt="Focus image 3">
      </div>
      <div class="card">
        <img src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438" alt="Focus image 4">
      </div>
    </div>

    <div class="goals" aria-label="Goals">
      <h2>
        üéØ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂â‡∂Ω‡∂ö‡∑ä‡∂ö (2026‚Äì2027)
        <span class="now" id="now">Now: ‚Äî</span>
      </h2>

      <ul>
        <!-- Ongoing -->
        <li data-deadline="ongoing" data-id="g_ongoing_study">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∂â‡∂ú‡∑ô‡∂±‡∑ì‡∂∏‡∑ö ‡∑Ä‡∑ê‡∂©‡∑ö ‡∂ã‡∂¥‡∂ª‡∑í‡∂∏‡∑ô‡∂±‡∑ä‡∂∏ ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è. Everyday!!!</span>
          <span class="timerCell"><span class="countdown" data-ongoing="1">Ongoing</span></span>
        </li>

        <li data-deadline="ongoing" data-id="g_ongoing_gym">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">‡∂¢‡∑í‡∂∏‡∑ä ‡∂ë‡∂ö ‡∑É‡∂≠‡∑í‡∂∫‡∂ß ‡∂Ö‡∂©‡∑î‡∂∏ 3 ‡∂Ø‡∑Ä‡∑É‡∂ö‡∑ä. excuses ‡∂±‡∑ë‚ÄîSchedule ‡∂ë‡∂ö‡∂ß ‡∑Ñ‡∂ª‡∑í‡∂∏.</span>
          <span class="timerCell"><span class="countdown" data-ongoing="1">Ongoing</span></span>
        </li>

        <li data-deadline="ongoing" data-id="g_ongoing_remember">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">‡∂∏‡∂ú‡∑ö Academic and Personal goals ‡∂∏‡∂ß ‡∑Ñ‡∑ú‡∂Ø‡∂ß ‡∂∏‡∂≠‡∂ö‡∂∫‡∑í</span>
          <span class="timerCell"><span class="countdown" data-ongoing="1">Ongoing</span></span>
        </li>

        <!-- Timed -->
        <li data-deadline="2026-02-28T23:59:59" data-id="g_methodology_2026_02">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∂¥‡∑ô‡∂∂‡∂ª‡∑Ä‡∑è‡∂ª‡∑í ‡∂Ö‡∂±‡∑ä‡∂≠‡∑í‡∂∏‡∑ö‡∂ß methodology ‡∂ë‡∂ö ‡∂â‡∑Ä‡∂ª ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è.</span>
          <span class="timerCell"><span class="countdown" data-target="2026-02-28T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2026-03-31T23:59:59" data-id="g_litreview_2026_03">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∂∏‡∑è‡∂ª‡∑ä‡∂≠‡∑î ‡∂Ö‡∂±‡∑ä‡∂≠‡∑í‡∂∏‡∑ö‡∂ß literature review ‡∂ë‡∂ö ‡∂â‡∑Ä‡∂ª ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è. Solid ‡∂ë‡∂ö‡∂ö‡∑ä.</span>
          <span class="timerCell"><span class="countdown" data-target="2026-03-31T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2026-04-30T23:59:59" data-id="g_projectplan_2026_04">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑ö‡∂Ω‡∑ä ‡∂Ö‡∂±‡∑ä‡∂≠‡∑í‡∂∏‡∑ö‡∂ß master‚Äôs project plan ‡∂ë‡∂ö finalize ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è.</span>
          <span class="timerCell"><span class="countdown" data-target="2026-04-30T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2026-05-31T23:59:59" data-id="g_placeholder_2026_05">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∂∏‡∑ê‡∂∫‡∑í (Placeholder): ________________________________</span>
          <span class="timerCell"><span class="countdown" data-target="2026-05-31T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2026-07-31T23:59:59" data-id="g_r_2026_07">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∂¢‡∑ñ‡∂Ω‡∑í ‡∑Ä‡∑ô‡∂Ø‡∑ä‡∂Ø‡∑í R analysis + plots confident.</span>
          <span class="timerCell"><span class="countdown" data-target="2026-07-31T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2026-09-30T23:59:59" data-id="g_qgis_2026_09">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2026 ‡∑É‡∑ê‡∂¥‡∑ä‡∂≠‡∑ê‡∂∏‡∑ä‡∂∂‡∂ª‡∑ä ‡∑Ä‡∑ô‡∂Ø‡∑ä‡∂Ø‡∑í QGIS professional level.</span>
          <span class="timerCell"><span class="countdown" data-target="2026-09-30T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2026-12-31T23:59:59" data-id="g_marks_2026_12">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">MSc classes + thesis 18/20 ‡∂ß ‡∑Ä‡∂©‡∑è. (standard)</span>
          <span class="timerCell"><span class="countdown" data-target="2026-12-31T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2027-04-30T23:59:59" data-id="g_phd_apply_2027_04">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2027 ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑ö‡∂Ω‡∑ä PhD prepare ‡∑Ä‡∑ô‡∂Ω‡∑è apply ‡∂ö‡∂ª‡∂±‡∑Ä‡∑è.</span>
          <span class="timerCell"><span class="countdown" data-target="2027-04-30T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2027-07-31T23:59:59" data-id="g_publication_2027_07">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2027 ‡∂¢‡∑ñ‡∂Ω‡∑í Master‚Äôs research publication ‡∑Ä‡∑ê‡∂© ‡∂¥‡∂ß‡∂±‡∑ä ‡∂ú‡∂±‡∑ä‡∂±‡∑Ä‡∑è.</span>
          <span class="timerCell"><span class="countdown" data-target="2027-07-31T23:59:59">‚Äî</span></span>
        </li>

        <li data-deadline="2027-12-31T23:59:59" data-id="g_enrolled_2027_12">
          <input class="bulletToggle" type="checkbox" aria-label="Completed">
          <span class="goalText">2027 ‡∂Ø‡∑ô‡∑É‡∑ê‡∂∏‡∑ä‡∂∂‡∂ª‡∑ä fisheries PhD program ‡∂ë‡∂ö‡∂ö‡∂ß enrolled.</span>
          <span class="timerCell"><span class="countdown" data-target="2027-12-31T23:59:59">‚Äî</span></span>
        </li>
      </ul>
    </div>
  </div>

  <h1 class="bottom">üë©‚Äç‚ù§Ô∏è‚Äçüë®‡∑É‡∑î‡∂∂‡∑ù‡∂∞‡∑è & ‡∂¥‡∑ñ‡∑É‡∑ù ‡∂ß‡∑í‡∂ö ‡∂î‡∂Ω‡∑î‡∑Ä‡∑ö ‡∂≠‡∑í‡∂∫‡∂±‡∑ä ‡∑Ä‡∑ê‡∂© ‡∂ö‡∂ª‡∂¥‡∂±‡∑ä.üêà</h1>

  <script>
    (function(){
      const nowEl = document.getElementById('now');

      function pad2(n){ return String(n).padStart(2,'0'); }

      function updateNow(){
        const n = new Date();
        const y = n.getFullYear();
        const m = pad2(n.getMonth()+1);
        const d = pad2(n.getDate());
        const hh = pad2(n.getHours());
        const mm = pad2(n.getMinutes());
        const ss = pad2(n.getSeconds());
        nowEl.textContent = `Now: ${y}-${m}-${d} ${hh}:${mm}:${ss}`;
      }

      function formatRemaining(ms){
        const sec = Math.max(0, Math.floor(ms / 1000));
        const s = sec % 60;
        const min = Math.floor(sec / 60);
        const m = min % 60;
        const hr = Math.floor(min / 60);
        const h = hr % 24;
        const days = Math.floor(hr / 24);
        return `${days}d ${pad2(h)}h ${pad2(m)}m ${pad2(s)}s`;
      }

      function applyTrafficLightColor(el, diffMs){
        const dayMs = 24 * 60 * 60 * 1000;
        const days = diffMs / dayMs;
        const d = Math.max(-9999, Math.min(99999, days));

        let bg, border;

        if (d <= 7){
          bg = 'hsla(0, 95%, 45%, 0.70)';      // RED
          border = 'hsla(0, 95%, 65%, 0.85)';
        } else if (d <= 30){
          bg = 'hsla(35, 98%, 45%, 0.70)';     // AMBER
          border = 'hsla(35, 98%, 65%, 0.85)';
        } else if (d <= 60){
          bg = 'hsla(55, 98%, 45%, 0.70)';     // YELLOW
          border = 'hsla(55, 98%, 65%, 0.85)';
        } else if (d <= 90){
          bg = 'hsla(85, 80%, 40%, 0.70)';     // YELLOW-GREEN
          border = 'hsla(85, 80%, 60%, 0.85)';
        } else {
          const cap = 365;
          const t = Math.min(1, d / cap);
          const lightness = 44 - (t * 14);
          bg = `hsla(135, 80%, ${lightness}%, 0.70)`;
          border = `hsla(135, 80%, ${Math.min(68, lightness + 22)}%, 0.85)`;
        }

        el.style.background = bg;
        el.style.borderColor = border;
        el.style.boxShadow = 'inset 0 0 0 1px rgba(0,0,0,0.12)';
      }

      function storageKey(id){ return `goal_done__${id}`; }

      function setCompleted(li, countdownEl, checked){
        const id = li.getAttribute('data-id') || '';
        if (!id) return;

        if (checked){
          localStorage.setItem(storageKey(id), '1');
          li.classList.add('completed');

          countdownEl.textContent = 'Completed';
          countdownEl.style.background = '';
          countdownEl.style.borderColor = '';
          countdownEl.style.boxShadow = '';
        } else {
          localStorage.removeItem(storageKey(id));
          li.classList.remove('completed');
        }
      }

      function initBulletCheckboxes(){
        const items = Array.from(document.querySelectorAll('.goals li'));
        items.forEach(li => {
          const id = li.getAttribute('data-id') || '';
          const cb = li.querySelector('.bulletToggle');
          const cd = li.querySelector('.countdown');
          if (!cb || !cd) return;

          const saved = id ? localStorage.getItem(storageKey(id)) === '1' : false;
          cb.checked = saved;
          if (saved) setCompleted(li, cd, true);

          cb.addEventListener('change', () => setCompleted(li, cd, cb.checked));
        });
      }

      function updateCountdowns(){
        const now = Date.now();
        const items = Array.from(document.querySelectorAll('.goals li'));

        items.forEach(li => {
          const cd = li.querySelector('.countdown');
          const cb = li.querySelector('.bulletToggle');
          if (!cd) return;

          const isOngoing = cd.hasAttribute('data-ongoing');
          const isCompleted = li.classList.contains('completed') || (cb && cb.checked);

          if (isOngoing){
            cd.textContent = isCompleted ? 'Completed' : 'Ongoing';
            if (!isCompleted){
              cd.style.background = 'rgba(255,255,255,0.16)';
              cd.style.borderColor = 'rgba(255,255,255,0.25)';
              cd.style.boxShadow = 'inset 0 0 0 1px rgba(0,0,0,0.10)';
            }
            return;
          }

          if (isCompleted){
            cd.textContent = 'Completed';
            return;
          }

          const iso = cd.getAttribute('data-target');
          const target = new Date(iso).getTime();
          if (Number.isNaN(target)){
            cd.textContent = 'Invalid';
            cd.style.background = 'hsla(0, 95%, 45%, 0.70)';
            cd.style.borderColor = 'hsla(0, 95%, 65%, 0.85)';
            return;
          }

          const diff = target - now;

          if (diff <= 0){
            cd.textContent = 'Overdue';
            cd.style.background = 'hsla(0, 95%, 45%, 0.70)';
            cd.style.borderColor = 'hsla(0, 95%, 65%, 0.85)';
          } else {
            cd.textContent = formatRemaining(diff);
            applyTrafficLightColor(cd, diff);
          }
        });
      }

      function tick(){
        updateNow();
        updateCountdowns();
      }

      initBulletCheckboxes();
      tick();
      setInterval(tick, 1000);
    })();
  </script>

</body>
</html>
